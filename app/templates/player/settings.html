{% extends 'layout.html' %}

{% block content %}
<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1><i class="fas fa-cog me-2"></i>Settings</h1>
    </div>
    
    <div class="row">
        <div class="col-md-8">
            <div class="card bg-dark mb-4">
                <div class="card-header">
                    <h5 class="mb-0"><i class="fas fa-shield-alt me-2"></i>Account Security</h5>
                </div>
                <div class="card-body">
                    <div class="list-group mb-3">
                        <a href="{{ url_for('auth.change_password') }}" class="list-group-item list-group-item-action bg-dark">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="mb-1">Change Password</h6>
                                    <p class="mb-0 small text-muted">Update your password to keep your account secure</p>
                                </div>
                                <span><i class="fas fa-chevron-right"></i></span>
                            </div>
                        </a>
                    </div>
                    
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Regular password changes help keep your account secure.
                    </div>
                </div>
            </div>
            
            <div class="card bg-dark mb-4">
                <div class="card-header">
                    <h5 class="mb-0"><i class="fas fa-user me-2"></i>Profile Settings</h5>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="{{ url_for('player.profile') }}" class="list-group-item list-group-item-action bg-dark">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="mb-1">Edit Profile</h6>
                                    <p class="mb-0 small text-muted">Update your username, email, bio, and avatar</p>
                                </div>
                                <span><i class="fas fa-chevron-right"></i></span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="card bg-dark">
                <div class="card-header">
                    <h5 class="mb-0"><i class="fas fa-bell me-2"></i>Notification Settings</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-info mb-3">
                        <i class="fas fa-info-circle me-2"></i>
                        Notification settings will be available in a future update.
                    </div>
                    
                    <div class="form-check form-switch mb-2">
                        <input class="form-check-input" type="checkbox" id="emailNotifications" checked disabled>
                        <label class="form-check-label" for="emailNotifications">Email Notifications</label>
                    </div>
                    <div class="form-check form-switch mb-2">
                        <input class="form-check-input" type="checkbox" id="competitionReminders" checked disabled>
                        <label class="form-check-label" for="competitionReminders">Competition Reminders</label>
                    </div>
                    <div class="form-check form-switch mb-2">
                        <input class="form-check-input" type="checkbox" id="newChallenges" checked disabled>
                        <label class="form-check-label" for="newChallenges">New Challenge Alerts</label>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card bg-dark mb-4">
                <div class="card-header">
                    <h5 class="mb-0"><i class="fas fa-info-circle me-2"></i>Account Information</h5>
                </div>
                <div class="card-body">
                    <div class="d-flex justify-content-between mb-3">
                        <span>Username:</span>
                        <strong>{{ current_user.username }}</strong>
                    </div>
                    <div class="d-flex justify-content-between mb-3">
                        <span>Email:</span>
                        <strong>{{ current_user.email }}</strong>
                    </div>
                    <div class="d-flex justify-content-between mb-3">
                        <span>Role:</span>
                        <span class="badge bg-{{ 'danger' if current_user.role.value == 'owner' else ('info' if current_user.role.value == 'host' else 'secondary') }}">
                            {{ current_user.role.value|capitalize }}
                        </span>
                    </div>
                    <div class="d-flex justify-content-between mb-3">
                        <span>Status:</span>
                        <span class="badge bg-{{ 'success' if current_user.status.value == 'active' else ('warning' if current_user.status.value == 'restricted' else 'danger') }}">
                            {{ current_user.status.value|capitalize }}
                        </span>
                    </div>
                    <div class="d-flex justify-content-between">
                        <span>Member Since:</span>
                        <strong>{{ current_user.created_at.strftime('%Y-%m-%d') }}</strong>
                    </div>
                </div>
            </div>
            
            <div class="card bg-dark">
                <div class="card-header">
                    <h5 class="mb-0"><i class="fas fa-download me-2"></i>Data & Privacy</h5>
                </div>
                <div class="card-body">
                    <p class="small mb-3">You can request a copy of your data or delete your account entirely.</p>
                    
                    <div class="d-grid gap-2">
                        <button class="btn btn-outline-info" disabled>
                            <i class="fas fa-download me-1"></i> Download My Data
                        </button>
                        <button class="btn btn-outline-danger" disabled>
                            <i class="fas fa-trash me-1"></i> Delete Account
                        </button>
                    </div>
                    
                    <div class="alert alert-info mt-3 small">
                        <i class="fas fa-info-circle me-2"></i>
                        Account deletion feature will be available in a future update.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
