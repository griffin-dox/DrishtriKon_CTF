<!-- 
Generic Delete Confirmation Modal Template

Parameters:
- modal_id: ID for the modal (required)
- item_name: Name of the item being deleted (required)
- item_type: Type of item being deleted (e.g., "competition", "challenge") (required)
- delete_url: URL for the delete action (required)
- additional_fields: HTML for any additional form fields or options (optional)
-->

<div class="modal fade delete-confirmation-modal" id="{{ modal_id }}" tabindex="-1" 
     aria-labelledby="{{ modal_id }}Label" aria-hidden="true" 
     data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered" style="z-index: 2001; pointer-events: all;">
        <div class="modal-content bg-dark" style="position: relative; z-index: 2002; pointer-events: all;">
            <div class="modal-header">
                <h5 class="modal-title" id="{{ modal_id }}Label">Confirm Deletion</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close" 
                        style="z-index: 2500; position: relative;"></button>
            </div>
            <div class="modal-body">
                <p class="mb-3">
                    Are you sure you want to delete the {{ item_type }} <strong>{{ item_name }}</strong>? 
                    This action cannot be undone.
                </p>

                {% if additional_fields %}
                <div class="mt-3">
                    {{ additional_fields|safe }}
                </div>
                {% endif %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" 
                        style="position: relative; z-index: 2099;">Cancel</button>
                <form action="{{ delete_url }}" method="POST" 
                      style="position: relative; z-index: 2100; display: inline-block;">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                    {% if challenge_action_required %}
                    <input type="hidden" name="challenge_action" value="delete" id="hidden{{ modal_id }}Action">
                    {% endif %}
                    {{ additional_hidden_fields|safe if additional_hidden_fields }}
                    <button type="submit" class="btn btn-danger delete-confirm-btn" 
                            style="position: relative; z-index: 2500;">Delete</button>
                </form>
            </div>
        </div>
    </div>
</div>